{"title":"E. Apollo versus Pan","contestId":"1466","problemIndex":"E","timeLimit":"2 seconds","memLimit":"256 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p>Only a few know that Pan and Apollo weren&apos;t only battling for the title of the GOAT musician. A few millenniums later, they also challenged each other in math (or rather in fast calculations). The task they got to solve is the following:</p><p>Let $$$x_1, x_2, \\ldots, x_n$$$ be the sequence of $$$n$$$ non-negative integers. Find this value: $$$$$$\\sum_{i=1}^n \\sum_{j=1}^n \\sum_{k=1}^n (x_i \\, \\&amp; \\, x_j) \\cdot (x_j \\, | \\, x_k)$$$$$$</p><p>Here $$$\\&amp;$$$ denotes the <a href=\"https://en.wikipedia.org/wiki/Bitwise_operation#AND\">bitwise and,</a> and $$$|$$$ denotes the <a href=\"https://en.wikipedia.org/wiki/Bitwise_operation#OR\">bitwise or.</a></p><p>Pan and Apollo could solve this in a few seconds. Can you do it too? For convenience, find the answer modulo $$$10^9 + 7$$$.</p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line of the input contains a single integer $$$t$$$ ($$$1 \\leq t \\leq 1\\,000$$$) denoting the number of test cases, then $$$t$$$ test cases follow.</p><p>The first line of each test case consists of a single integer $$$n$$$ ($$$1 \\leq n \\leq 5 \\cdot 10^5$$$), the length of the sequence. The second one contains $$$n$$$ non-negative integers $$$x_1, x_2, \\ldots, x_n$$$ ($$$0 \\leq x_i &lt; 2^{60}$$$), elements of the sequence.</p><p>The sum of $$$n$$$ over all test cases will not exceed $$$5 \\cdot 10^5$$$.</p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>Print $$$t$$$ lines. The $$$i$$$-th line should contain the answer to the $$$i$$$-th text case.</p>","noteHtml":null,"sampleTestcases":[{"id":1612201127783,"input":"8\n2\n1 7\n3\n1 2 4\n4\n5 5 5 5\n5\n6 2 2 1 0\n1\n0\n1\n1\n6\n1 12 123 1234 12345 123456\n5\n536870912 536870911 1152921504606846975 1152921504606846974 1152921504606846973\n","output":"128\n91\n1600\n505\n0\n1\n502811676\n264880351\n"}],"submitUrl":"https://codeforces.com/contest/1466/submit","language":"c++"}