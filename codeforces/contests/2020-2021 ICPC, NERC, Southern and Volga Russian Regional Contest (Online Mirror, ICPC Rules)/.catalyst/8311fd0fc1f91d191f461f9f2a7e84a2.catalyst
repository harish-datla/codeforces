{"title":"C. Berpizza","contestId":"1468","problemIndex":"C","timeLimit":"5 seconds","memLimit":"512 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p>Monocarp and Polycarp are working as waiters in Berpizza, a pizzeria located near the center of Bertown. Since they are waiters, their job is to serve the customers, but they choose whom they serve first differently.</p><p>At the start of the working day, there are no customers at the Berpizza. They come there one by one. When a customer comes into the pizzeria, she sits and waits for Monocarp or Polycarp to serve her. Monocarp has been working in Berpizza for just two weeks, so whenever he serves a customer, he simply chooses the one who came to Berpizza first, and serves that customer. </p><p>On the other hand, Polycarp is an experienced waiter at Berpizza, and he knows which customers are going to spend a lot of money at the pizzeria (and which aren&apos;t) as soon as he sees them. For each customer, Polycarp estimates the amount of money this customer can spend, and when he serves a customer, he chooses the one that is expected to leave the most money at Berpizza (in case there are several such customers, he chooses the one who came first among them). </p><p>Obviously, no customer can be served twice, so Monocarp and Polycarp choose which customer to serve only among those who haven&apos;t been served yet.</p><p>When the number of customers gets really high, it becomes difficult for both Monocarp and Polycarp to choose the customer they are going to serve. Your task is to write a program that makes these choices for them. Formally, your program should be able to process three types of queries:</p><p></p><ul> <li> $$$1$$$ $$$m$$$ &#x2014; a customer comes to Berpizza, and Polycarp estimates the amount of money that they will spend as $$$m$$$; </li><li> $$$2$$$ &#x2014; Monocarp serves a customer which came to the pizzeria first; </li><li> $$$3$$$ &#x2014; Polycarp serves a customer which is expected to spend the largest amount of money at the pizzeria (if there are several such customers, the one that came to the pizzeria first is chosen). </li></ul><p></p><p>For each query of types $$$2$$$ and $$$3$$$, report the number of the customer who was served (the customers are numbered in the order they come to the pizzeria, starting from $$$1$$$).</p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line contains one integer $$$q$$$ ($$$2 \\le q \\le 5 \\cdot 10^5$$$) &#x2014; the number of queries.</p><p>Then $$$q$$$ lines follow, each describing a query in one of the following formats:</p><p></p><ul> <li> $$$1$$$ $$$m$$$ ($$$1 \\le m \\le 5 \\cdot 10^5$$$) &#x2014; a customer comes to Berpizza, and Polycarp estimates the amount of money that they will spend as $$$m$$$; </li><li> $$$2$$$ &#x2014; Monocarp serves a customer which came to the pizzeria first; </li><li> $$$3$$$ &#x2014; Polycarp serves a customer which is expected to spend the largest amount of money at the pizzeria (if there are multiple such customers, the one that came to the pizzeria first is chosen). </li></ul><p></p><p>Queries of type $$$2$$$ and $$$3$$$ are asked only when there exists at least one customer that hasn&apos;t been served yet. There is at least one query of type $$$2$$$ or $$$3$$$ in the input.</p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>For each query of type $$$2$$$ or $$$3$$$, print one integer &#x2014; the number of the customer that has been served in that event. The customers are numbered in the order in which they come to the pizzeria, starting from $$$1$$$.</p>","noteHtml":null,"sampleTestcases":[{"id":1612201494811,"input":"8\n1 8\n1 10\n1 6\n3\n2\n1 9\n2\n3\n","output":"2 1 3 4 "},{"id":1612201494812,"input":"6\n1 8\n1 10\n1 8\n3\n3\n3\n","output":"2 1 3 "},{"id":1612201494813,"input":"8\n1 103913\n3\n1 103913\n1 103913\n3\n1 103913\n1 103913\n2\n","output":"1 2 3 "}],"submitUrl":"https://codeforces.com/contest/1468/submit","language":"c++"}