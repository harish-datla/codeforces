{"title":"G. Tiles","contestId":"1473","problemIndex":"G","timeLimit":"4 seconds","memLimit":"256 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p>Consider a road consisting of several rows. Each row is divided into several rectangular tiles, and all tiles in the same row are equal. The first row contains exactly one rectangular tile. Look at the picture below which shows how the tiles are arranged.</p><p>The road is constructed as follows: </p><ul> <li> the first row consists of $$$1$$$ tile; </li><li> then $$$a_1$$$ rows follow; each of these rows contains $$$1$$$ tile greater than the previous row; </li><li> then $$$b_1$$$ rows follow; each of these rows contains $$$1$$$ tile less than the previous row; </li><li> then $$$a_2$$$ rows follow; each of these rows contains $$$1$$$ tile greater than the previous row; </li><li> then $$$b_2$$$ rows follow; each of these rows contains $$$1$$$ tile less than the previous row; </li><li> ... </li><li> then $$$a_n$$$ rows follow; each of these rows contains $$$1$$$ tile greater than the previous row; </li><li> then $$$b_n$$$ rows follow; each of these rows contains $$$1$$$ tile less than the previous row. </li></ul><center> <img class=\"tex-graphics\" src=\"https://espresso.codeforces.com/4ab071c76a4fa0010b666eb2b8eff987f553cf4a.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"> An example of the road with $$$n = 2$$$, $$$a_1 = 4$$$, $$$b_1 = 2$$$, $$$a_2 = 2$$$, $$$b_2 = 3$$$. Rows are arranged from left to right. </center><p>You start from the only tile in the first row and want to reach the last row (any tile of it). From your current tile, you can move to any tile in the next row which touches your current tile.</p><p>Calculate the number of different paths from the first row to the last row. Since it can be large, print it modulo $$$998244353$$$.</p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line contains one integer $$$n$$$ ($$$1 \\le n \\le 1000$$$).</p><p>Then $$$n$$$ lines follow. The $$$i$$$-th of them contains two integers $$$a_i$$$ and $$$b_i$$$ ($$$1 \\le a_i, b_i \\le 10^5$$$; $$$|a_i - b_i| \\le 5$$$).</p><p>Additional constraint on the input: the sequence of $$$a_i$$$ and $$$b_i$$$ never results in a row with non-positive number of tiles.</p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>Print one integer &#x2014; the number of paths from the first row to the last row, taken modulo $$$998244353$$$.</p>","noteHtml":null,"sampleTestcases":[{"id":1612200218745,"input":"2\n4 2\n2 3\n","output":"850\n"},{"id":1612200218746,"input":"3\n4 1\n2 3\n3 1\n","output":"10150\n"},{"id":1612200218747,"input":"8\n328 323\n867 868\n715 718\n721 722\n439 435\n868 870\n834 834\n797 796\n","output":"759099319\n"}],"submitUrl":"https://codeforces.com/contest/1473/submit","language":"c++"}